<!DOCTYPE html>
<html>

<head>
    <title>cuentaman</title>
</head>

<body>


    <p>Tenemos las dos listas que ves aquí debajo</p>
    <ol id="lista1">
        <li>Perico</li>
        <li>Juanico</li>
        <ul>
            <li>Jose</li>
            <ul>
                <li>Roman</li>
                <li>Marco</li>
                <li>Rodrigo</li>
            </ul>
            <li>Jose</li>
            <li>Lorenzo</li>
            <ul>
                <li>Dimas</li>
                <li>Gestas</li>
                <li>Malakatos</li>
                <li>Jose</li>
                <li>Dimas</li>
                <li>Gestas</li>
            </ul>
        </ul>
        <li>Sofoclis</li>
    </ol>
    <ol id="lista2">
        <li>Periquin</li>
        <li>Sofoclis</li>
        <li>Jose</li>
        <ul>
            <li>Dimas</li>
            <li>Gestas</li>
        </ul>
    </ol>


    <p>Se pide que modifiques la lista de abajo para que tenga este aspecto:<br>
    <ol>
        <li>Periquin 0</li>
        <li>Sofoclis 1</li>
        <li>Jose 3</li>
        <ul>
            <li>Dimas 2</li>
            <li>Gestas 2</li>
        </ul>
    </ol>
    </p>
    <p>Si te das cuenta lo que hemos hecho ha sido contar cuantas veces aparece en la primera lista cada elemento de la
        segunda<br></p>


    <script>
        /*CREA UNA FUNCIÓN QUE DADO UN NODO CUENTE CUANTAS PERSONAS CON UN NOMBRE HAY POR DEBAJO DE ÉL (INCLUIDO)*/
        const cuentaMan = (obj, man) => {
            let cuantos = 0;
            if (obj.tagName == 'LI') {
                if (obj.innerHTML.toUpperCase() == man.toUpperCase()) cuantos++
            } else {
                for (let i = 0; i < obj.children.length; i++) {
                    cuantos += cuentaMan(obj.children[i], man)
                }
            }
            return cuantos;
        }

        //console.log(cuentaMan(document.getElementById("lista1"),"Gestas"))
        //console.log(cuentaMan(document.getElementById("lista1"),"Dimas"))
        //console.log(cuentaMan(document.getElementById("lista1"),"FLorenzo"))
        /*CREA OTRA FUNCION QUE RECORRE LA SEGUNDA LISTA Y LLAME A LA FUNCION ANTERIOR PARA QUE BUSQUE
        A ESA PERSONA EN LA PRIMERA LISTA Y LE AGREGUE LAS VECES QUE APARECE EN LA PRIMERA*/
        const recorreYcuenta = (obj) => {
            if (obj.tagName == 'LI') {
                obj.innerHTML = obj.innerHTML + " - " + cuentaMan(document.getElementById("lista1"), obj.innerHTML)
            } else {
                for (let i = 0; i < obj.children.length; i++) {
                    recorreYcuenta(obj.children[i])
                }
            }
        }
        recorreYcuenta(document.getElementById("lista2"))
    </script>

</body>

</html>