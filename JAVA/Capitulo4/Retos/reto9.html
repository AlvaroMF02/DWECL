<html>

<head>
    <title>reto 9</title>
</head>

<body>
    <h1>reto 9</h1>
    <ul id="carrakos"> </ul>

    <script>

        let carrakos = ["Chevrolet", "Tesla", "BMW", ["Honda", "Infiniti", ["Lexus", "Mercedes", "Kia"], "Hyunday"], ["Mazda", "Mercedes", "Jeep", ["KTM", "Nissan", "Isuzu"]]];
        let xungos = [{ nombre: "Bruce Lee", carros: ["Chevrolet", "Tesla", "BMW"] }, { nombre: "YakiChan", carros: ["Lexus", "Mercedes", "Kia"] }]

        let obj = document.getElementById("carrakos");

        let visualiza = (arr, obj) => {
            arr.map(e => {
                if (Array.isArray(e)) {
                    let newobj = document.createElement("ul")
                    obj.appendChild(newobj)
                    visualiza(e, newobj)
                } else {
                    let nodoCoche = document.createElement("li")
                    // Guardo el texto vacio o con el nombre
                    let texto;
                    // array del coche que usa e
                    let elemento = xungos.find(x => x.carros.find(c => c == e))
                    // Si elemento no esta definido (no hay nada) se crea el nodo tal cual como en el ejer 8
                    // si no guarda el nombre en el texto
                    typeof elemento == 'undefined' ? texto = document.createTextNode(e) : texto = document.createTextNode(e + " de " + elemento.nombre);
                    nodoCoche.appendChild(texto);
                    obj.appendChild(nodoCoche);
                }
            })
        }
        visualiza(carrakos, obj);

        /*
         Chevrolet de Bruce Lee
         Tesla de Bruce Lee
         BMW de Bruce Lee
             Honda
             Infiniti
                 Lexus de YakiChan
                 Mercedes de YakiChan
                 Kia de YakiChan
             Hyunday
             Mazda
             Mercedes de YakiChan
             Jeep
                 KTM
                 Nissan
                 Isuzu
         */


    </script>
</body>

</html>